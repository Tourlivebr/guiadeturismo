---
// Lista de passeios dispon√≠veis
const passeios = [
  'Gramado e Canela - City Tour',
  'Vale dos Vinhedos - Bento Gon√ßalves',
  'Caxias do Sul - Rota da Uva e do Vinho',
  'Nova Petr√≥polis - Rota Rom√¢ntica',
  'Campos do Jord√£o - Inverno na Montanha',
  'Cambar√° do Sul - C√¢nions e Natureza',
  'S√£o Francisco de Paula - Ecoturismo',
  'Farroupilha - Turismo Rural'
];
---

<div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 lg:p-8">
  <form id="contactForm" class="space-y-6">
    <!-- Nome -->
    <div>
      <label for="nome" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Nome Completo *
      </label>
      <input
        type="text"
        id="nome"
        name="nome"
        required
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
        placeholder="Digite seu nome completo"
      />
    </div>

    <!-- Data -->
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Data Desejada para o Passeio *
      </label>
      <div class="grid grid-cols-3 gap-3">
        <div>
          <select
            id="dia"
            name="dia"
            required
            class="w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
          >
            <option value="">Dia</option>
            {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (
              <option value={day}>{day}</option>
            ))}
          </select>
        </div>
        <div>
          <select
            id="mes"
            name="mes"
            required
            class="w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
          >
            <option value="">M√™s</option>
            <option value="01">Janeiro</option>
            <option value="02">Fevereiro</option>
            <option value="03">Mar√ßo</option>
            <option value="04">Abril</option>
            <option value="05">Maio</option>
            <option value="06">Junho</option>
            <option value="07">Julho</option>
            <option value="08">Agosto</option>
            <option value="09">Setembro</option>
            <option value="10">Outubro</option>
            <option value="11">Novembro</option>
            <option value="12">Dezembro</option>
          </select>
        </div>
        <div>
          <select
            id="ano"
            name="ano"
            required
            class="w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
          >
            <option value="">Ano</option>
            {Array.from({ length: 3 }, (_, i) => new Date().getFullYear() + i).map(year => (
              <option value={year}>{year}</option>
            ))}
          </select>
        </div>
      </div>
    </div>

    <!-- Passeio -->
    <div>
      <label for="passeio" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Passeio de Interesse *
      </label>
      <select
        id="passeio"
        name="passeio"
        required
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
      >
        <option value="">Selecione um passeio</option>
        {passeios.map(passeio => (
          <option value={passeio}>{passeio}</option>
        ))}
      </select>
    </div>

    <!-- Telefone -->
    <div>
      <label for="telefone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Telefone/WhatsApp *
      </label>
      <input
        type="tel"
        id="telefone"
        name="telefone"
        required
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors"
        placeholder="(00) 00000-0000"
      />
    </div>

    <!-- Mensagem -->
    <div>
      <label for="mensagem" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Mensagem Adicional
      </label>
      <textarea
        id="mensagem"
        name="mensagem"
        rows="4"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors resize-none"
        placeholder="Conte-nos mais sobre suas expectativas, n√∫mero de pessoas, prefer√™ncias especiais..."
      ></textarea>
    </div>

    <!-- Bot√£o de Envio -->
    <div class="pt-4">
      <button
        type="submit"
        class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-3 text-lg"
      >
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        Enviar via WhatsApp
      </button>
    </div>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm');
    const telefoneInput = document.getElementById('telefone');
    
    // M√°scara para telefone
    telefoneInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      
      if (value.length <= 11) {
        if (value.length <= 2) {
          value = value.replace(/(\d{0,2})/, '($1');
        } else if (value.length <= 7) {
          value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');
        } else {
          value = value.replace(/(\d{2})(\d{5})(\d{0,4})/, '($1) $2-$3');
        }
      }
      
      e.target.value = value;
    });
    
    // Envio do formul√°rio
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(form);
      const nome = formData.get('nome');
      const dia = formData.get('dia');
      const mes = formData.get('mes');
      const ano = formData.get('ano');
      const passeio = formData.get('passeio');
      const telefone = formData.get('telefone');
      const mensagem = formData.get('mensagem') || 'Nenhuma mensagem adicional';
      
      // Valida√ß√£o b√°sica
      if (!nome || !dia || !mes || !ano || !passeio || !telefone) {
        alert('Por favor, preencha todos os campos obrigat√≥rios.');
        return;
      }
      
      // Formata√ß√£o da data
      const dataFormatada = `${dia.padStart(2, '0')}/${mes}/${ano}`;
      
      // Montagem da mensagem para WhatsApp
      const mensagemWhatsApp = `üåü *Solicita√ß√£o de Passeio* üåü\n\n` +
        `üë§ *Nome:* ${nome}\n` +
        `üìÖ *Data Desejada:* ${dataFormatada}\n` +
        `üéØ *Passeio:* ${passeio}\n` +
        `üì± *Telefone:* ${telefone}\n` +
        `üí¨ *Mensagem:* ${mensagem}\n\n` +
        `Enviado atrav√©s do site - Filippi Arruda Turismo`;
      
      // N√∫mero do WhatsApp (substitua pelo n√∫mero real)
      const numeroWhatsApp = '5554999999999'; // Formato: c√≥digo do pa√≠s + DDD + n√∫mero
      
      // URL do WhatsApp
      const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensagemWhatsApp)}`;
      
      // Abrir WhatsApp
      window.open(urlWhatsApp, '_blank');
      
      // Limpar formul√°rio ap√≥s envio
      form.reset();
      
      // Feedback visual
      const button = form.querySelector('button[type="submit"]');
      const originalText = button.innerHTML;
      button.innerHTML = `
        <svg class="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        Redirecionando...
      `;
      
      setTimeout(() => {
        button.innerHTML = originalText;
      }, 2000);
    });
  });
</script>